<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üç¶ ‡∏£‡πâ‡∏≤‡∏ô‡πÇ‡∏¢‡πÄ‡∏Å‡∏¥‡∏£‡πå‡∏ï‡∏ô‡πà‡∏≤‡∏£‡∏±‡∏Å</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;500;600&display=swap');
        body { font-family: 'Kanit', sans-serif; }
        
        .hero-bg {
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 50%, #fecfef 100%);
        }
        
        .product-card {
            transition: all 0.3s ease;
            background: linear-gradient(135deg, #ffeef8 0%, #fff0f5 100%);
        }
        
        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(255, 182, 193, 0.4);
        }
        
        .selected {
            background: linear-gradient(135deg, #ffc0cb 0%, #ffb6c1 100%);
            border-color: #ff69b4;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #ff69b4 0%, #ff1493 100%);
            transition: all 0.3s ease;
        }
        
        .btn-primary:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(255, 20, 147, 0.4);
        }
        
        .modal {
            backdrop-filter: blur(10px);
            background: rgba(255, 255, 255, 0.95);
        }
        
        .animate-bounce-in {
            animation: bounceIn 0.5s ease-out;
        }
        
        @keyframes bounceIn {
            0% { transform: scale(0.3); opacity: 0; }
            50% { transform: scale(1.05); }
            70% { transform: scale(0.9); }
            100% { transform: scale(1); opacity: 1; }
        }
        
        .floating {
            animation: floating 3s ease-in-out infinite;
        }
        
        @keyframes floating {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        
        .image-preview {
            max-width: 100%;
            max-height: 200px;
            object-fit: cover;
            border-radius: 12px;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-pink-50 to-purple-50 min-h-screen">
    <!-- Navigation -->
    <nav class="bg-white shadow-lg border-b-4 border-pink-200 fixed w-full top-0 z-40">
        <div class="container mx-auto px-4 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3 cursor-pointer" onclick="showHomePage()">
                    <div class="text-3xl floating">üç¶</div>
                    <h1 class="text-2xl font-bold text-pink-600">‡∏£‡πâ‡∏≤‡∏ô‡πÇ‡∏¢‡πÄ‡∏Å‡∏¥‡∏£‡πå‡∏ï‡∏ô‡πà‡∏≤‡∏£‡∏±‡∏Å</h1>
                </div>
                <div class="flex space-x-4">
                    <button onclick="showHomePage()" class="text-pink-600 hover:text-pink-800 font-medium px-4 py-2 rounded-lg hover:bg-pink-50 transition-colors">
                        üè† ‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å
                    </button>
                    <button onclick="showProductsPage()" class="text-pink-600 hover:text-pink-800 font-medium px-4 py-2 rounded-lg hover:bg-pink-50 transition-colors">
                        üõçÔ∏è ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
                    </button>
                    <button onclick="showManagePage()" class="btn-primary text-white px-4 py-2 rounded-lg font-medium">
                        ‚öôÔ∏è ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Home Page -->
    <div id="homePage" class="page-content">
        <!-- Hero Section -->
        <section class="hero-bg pt-24 pb-16">
            <div class="container mx-auto px-4 text-center">
                <div class="max-w-4xl mx-auto">
                    <h1 class="text-5xl md:text-6xl font-bold text-white mb-6 floating">
                        üç¶ ‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö‡∏™‡∏π‡πà‡∏£‡πâ‡∏≤‡∏ô‡πÇ‡∏¢‡πÄ‡∏Å‡∏¥‡∏£‡πå‡∏ï‡∏ô‡πà‡∏≤‡∏£‡∏±‡∏Å
                    </h1>
                    <p class="text-xl text-white mb-8 opacity-90">
                        ‡πÇ‡∏¢‡πÄ‡∏Å‡∏¥‡∏£‡πå‡∏ï‡∏™‡∏î‡πÉ‡∏´‡∏°‡πà ‡∏£‡∏™‡∏ä‡∏≤‡∏ï‡∏¥‡∏´‡∏•‡∏≤‡∏Å‡∏´‡∏•‡∏≤‡∏¢ ‡∏ó‡∏≥‡∏à‡∏≤‡∏Å‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û
                    </p>
                    <button onclick="showProductsPage()" class="btn-primary text-white px-8 py-4 rounded-full text-lg font-medium inline-flex items-center space-x-2">
                        <span>üõçÔ∏è</span>
                        <span>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ã‡∏∑‡πâ‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</span>
                    </button>
                </div>
            </div>
        </section>

        <!-- Features Section -->
        <section class="py-16">
            <div class="container mx-auto px-4">
                <h2 class="text-3xl font-bold text-center text-gray-800 mb-12">üåü ‡∏à‡∏∏‡∏î‡πÄ‡∏î‡πà‡∏ô‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤</h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                    <div class="text-center p-6 bg-white rounded-2xl shadow-lg border-2 border-pink-100">
                        <div class="text-5xl mb-4">ü•õ</div>
                        <h3 class="text-xl font-semibold text-gray-800 mb-2">‡∏™‡∏î‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô</h3>
                        <p class="text-gray-600">‡∏ú‡∏•‡∏¥‡∏ï‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô ‡∏î‡πâ‡∏ß‡∏¢‡∏ô‡∏°‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏™‡∏π‡∏á</p>
                    </div>
                    <div class="text-center p-6 bg-white rounded-2xl shadow-lg border-2 border-pink-100">
                        <div class="text-5xl mb-4">üçì</div>
                        <h3 class="text-xl font-semibold text-gray-800 mb-2">‡∏£‡∏™‡∏ä‡∏≤‡∏ï‡∏¥‡∏´‡∏•‡∏≤‡∏Å‡∏´‡∏•‡∏≤‡∏¢</h3>
                        <p class="text-gray-600">‡∏°‡∏µ‡πÉ‡∏´‡πâ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏°‡∏≤‡∏Å‡∏°‡∏≤‡∏¢ ‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà‡∏£‡∏™‡∏Ñ‡∏•‡∏≤‡∏™‡∏™‡∏¥‡∏Å‡∏ñ‡∏∂‡∏á‡∏£‡∏™‡πÉ‡∏´‡∏°‡πà</p>
                    </div>
                    <div class="text-center p-6 bg-white rounded-2xl shadow-lg border-2 border-pink-100">
                        <div class="text-5xl mb-4">üíù</div>
                        <h3 class="text-xl font-semibold text-gray-800 mb-2">‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏î‡∏µ</h3>
                        <p class="text-gray-600">‡πÉ‡∏™‡πà‡πÉ‡∏à‡∏ó‡∏∏‡∏Å‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏∂‡∏á‡∏û‡∏≠‡πÉ‡∏à</p>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Products Page -->
    <div id="productsPage" class="page-content hidden pt-24">
        <div class="container mx-auto px-4 py-8">
            <!-- Selected Products Summary -->
            <div class="bg-white rounded-2xl shadow-lg p-6 mb-8 border-2 border-pink-100">
                <h2 class="text-xl font-semibold text-gray-700 mb-4 flex items-center">
                    <span class="text-2xl mr-2">üõí</span>
                    ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å
                </h2>
                <div id="selectedProducts" class="text-gray-600">
                    ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
                </div>
                <div class="mt-4 flex space-x-3">
                    <button onclick="clearSelection()" class="bg-gray-200 hover:bg-gray-300 text-gray-700 px-4 py-2 rounded-full text-sm transition-colors">
                        ‡∏•‡πâ‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡∏≠‡∏Å
                    </button>
                    <button onclick="checkout()" class="btn-primary text-white px-6 py-2 rounded-full text-sm">
                        ‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠
                    </button>
                </div>
            </div>

            <!-- Products Grid -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="productsGrid">
                <!-- Products will be rendered here -->
            </div>
        </div>
    </div>

    <!-- Management Page -->
    <div id="managePage" class="page-content hidden pt-24">
        <div class="container mx-auto px-4 py-8">
            <div class="flex items-center justify-between mb-8">
                <h1 class="text-3xl font-bold text-pink-600 flex items-center">
                    <span class="text-4xl mr-3">‚öôÔ∏è</span>
                    ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
                </h1>
                <button onclick="openAddModal()" class="btn-primary text-white px-6 py-3 rounded-full font-medium flex items-center space-x-2">
                    <span class="text-xl">+</span>
                    <span>‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà</span>
                </button>
            </div>

            <!-- Management Grid -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="manageGrid">
                <!-- Management items will be rendered here -->
            </div>
        </div>
    </div>

    <!-- Add/Edit Modal -->
    <div id="productModal" class="fixed inset-0 modal hidden items-center justify-center z-50">
        <div class="bg-white rounded-2xl shadow-2xl p-8 m-4 max-w-lg w-full animate-bounce-in border-4 border-pink-200 max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-6">
                <h3 id="modalTitle" class="text-2xl font-bold text-pink-600 flex items-center">
                    <span class="text-3xl mr-2">üç®</span>
                    ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà
                </h3>
                <button onclick="closeModal()" class="text-gray-400 hover:text-gray-600 text-2xl">√ó</button>
            </div>
            
            <form onsubmit="saveProduct(event)">
                <div class="mb-6">
                    <label class="block text-gray-700 font-medium mb-2">‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</label>
                    <input type="text" id="productName" class="w-full px-4 py-3 border-2 border-pink-200 rounded-xl focus:border-pink-400 focus:outline-none transition-colors" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡πÇ‡∏¢‡πÄ‡∏Å‡∏¥‡∏£‡πå‡∏ï‡∏™‡∏ï‡∏£‡∏≠‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏£‡∏µ‡πà" required>
                </div>

                <div class="mb-6">
                    <label class="block text-gray-700 font-medium mb-2">‡∏£‡∏≤‡∏Ñ‡∏≤ (‡∏ö‡∏≤‡∏ó)</label>
                    <input type="number" id="productPrice" class="w-full px-4 py-3 border-2 border-pink-200 rounded-xl focus:border-pink-400 focus:outline-none transition-colors" placeholder="‡πÄ‡∏ä‡πà‡∏ô 45" required>
                </div>

                <div class="mb-6">
                    <label class="block text-gray-700 font-medium mb-2">‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢</label>
                    <textarea id="productDescription" class="w-full px-4 py-3 border-2 border-pink-200 rounded-xl focus:border-pink-400 focus:outline-none transition-colors" rows="3" placeholder="‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤"></textarea>
                </div>

                <div class="mb-6">
                    <label class="block text-gray-700 font-medium mb-2">‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</label>
                    <div class="border-2 border-dashed border-pink-200 rounded-xl p-6 text-center">
                        <input type="file" id="productImage" accept="image/*" onchange="previewImage(event)" class="hidden">
                        <div id="imagePreview" class="mb-4">
                            <div class="text-4xl mb-2">üì∑</div>
                            <p class="text-gray-500">‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û</p>
                        </div>
                        <button type="button" onclick="document.getElementById('productImage').click()" class="bg-pink-100 hover:bg-pink-200 text-pink-600 px-4 py-2 rounded-lg transition-colors">
                            ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û
                        </button>
                    </div>
                </div>
                
                <div class="mb-6">
                    <label class="block text-gray-700 font-medium mb-2">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô</label>
                    <div class="grid grid-cols-4 gap-2">
                        <button type="button" onclick="selectIcon('üçì')" class="icon-btn p-3 text-2xl border-2 border-gray-200 rounded-lg hover:border-pink-400 transition-colors">üçì</button>
                        <button type="button" onclick="selectIcon('ü´ê')" class="icon-btn p-3 text-2xl border-2 border-gray-200 rounded-lg hover:border-pink-400 transition-colors">ü´ê</button>
                        <button type="button" onclick="selectIcon('üç´')" class="icon-btn p-3 text-2xl border-2 border-gray-200 rounded-lg hover:border-pink-400 transition-colors">üç´</button>
                        <button type="button" onclick="selectIcon('üç¶')" class="icon-btn p-3 text-2xl border-2 border-gray-200 rounded-lg hover:border-pink-400 transition-colors">üç¶</button>
                        <button type="button" onclick="selectIcon('ü•≠')" class="icon-btn p-3 text-2xl border-2 border-gray-200 rounded-lg hover:border-pink-400 transition-colors">ü•≠</button>
                        <button type="button" onclick="selectIcon('üçå')" class="icon-btn p-3 text-2xl border-2 border-gray-200 rounded-lg hover:border-pink-400 transition-colors">üçå</button>
                        <button type="button" onclick="selectIcon('ü•ù')" class="icon-btn p-3 text-2xl border-2 border-gray-200 rounded-lg hover:border-pink-400 transition-colors">ü•ù</button>
                        <button type="button" onclick="selectIcon('üçë')" class="icon-btn p-3 text-2xl border-2 border-gray-200 rounded-lg hover:border-pink-400 transition-colors">üçë</button>
                    </div>
                    <input type="hidden" id="selectedIcon" value="üç¶">
                </div>
                
                <div class="flex space-x-3">
                    <button type="button" onclick="closeModal()" class="flex-1 bg-gray-200 hover:bg-gray-300 text-gray-700 py-3 rounded-xl font-medium transition-colors">
                        ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å
                    </button>
                    <button type="submit" class="flex-1 btn-primary text-white py-3 rounded-xl font-medium">
                        ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å
                    </button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // Sample data
        let products = [
            { 
                id: 1, 
                name: '‡πÇ‡∏¢‡πÄ‡∏Å‡∏¥‡∏£‡πå‡∏ï‡∏™‡∏ï‡∏£‡∏≠‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏£‡∏µ‡πà', 
                price: 45, 
                description: '‡πÇ‡∏¢‡πÄ‡∏Å‡∏¥‡∏£‡πå‡∏ï‡∏£‡∏™‡∏™‡∏ï‡∏£‡∏≠‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏£‡∏µ‡πà‡∏™‡∏î‡πÉ‡∏´‡∏°‡πà ‡∏´‡∏ß‡∏≤‡∏ô‡∏´‡∏≠‡∏° ‡πÄ‡∏õ‡∏£‡∏∑‡πâ‡∏¢‡∏ß‡∏ô‡∏¥‡∏î‡πÜ',
                icon: 'üçì', 
                image: null,
                selected: false,
                quantity: 0
            },
            { 
                id: 2, 
                name: '‡πÇ‡∏¢‡πÄ‡∏Å‡∏¥‡∏£‡πå‡∏ï‡∏ö‡∏•‡∏π‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏£‡∏µ‡πà', 
                price: 50, 
                description: '‡πÇ‡∏¢‡πÄ‡∏Å‡∏¥‡∏£‡πå‡∏ï‡∏£‡∏™‡∏ö‡∏•‡∏π‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏£‡∏µ‡πà ‡∏≠‡∏∏‡∏î‡∏°‡πÑ‡∏õ‡∏î‡πâ‡∏ß‡∏¢‡πÅ‡∏≠‡∏ô‡πÇ‡∏ò‡πÑ‡∏ã‡∏¢‡∏≤‡∏ô‡∏¥‡∏ô',
                icon: 'ü´ê', 
                image: null,
                selected: false,
                quantity: 0
            },
            { 
                id: 3, 
                name: '‡πÇ‡∏¢‡πÄ‡∏Å‡∏¥‡∏£‡πå‡∏ï‡∏ä‡πá‡∏≠‡∏Å‡πÇ‡∏Å‡πÅ‡∏•‡∏ï', 
                price: 55, 
                description: '‡πÇ‡∏¢‡πÄ‡∏Å‡∏¥‡∏£‡πå‡∏ï‡∏£‡∏™‡∏ä‡πá‡∏≠‡∏Å‡πÇ‡∏Å‡πÅ‡∏•‡∏ï‡πÄ‡∏Ç‡πâ‡∏°‡∏Ç‡πâ‡∏ô ‡∏´‡∏≠‡∏°‡∏´‡∏ß‡∏≤‡∏ô‡∏ô‡πà‡∏≤‡∏ó‡∏≤‡∏ô',
                icon: 'üç´', 
                image: null,
                selected: false,
                quantity: 0
            },
            { 
                id: 4, 
                name: '‡πÇ‡∏¢‡πÄ‡∏Å‡∏¥‡∏£‡πå‡∏ï‡∏ß‡∏ô‡∏¥‡∏•‡∏≤', 
                price: 40, 
                description: '‡πÇ‡∏¢‡πÄ‡∏Å‡∏¥‡∏£‡πå‡∏ï‡∏£‡∏™‡∏ß‡∏ô‡∏¥‡∏•‡∏≤‡∏Ñ‡∏•‡∏≤‡∏™‡∏™‡∏¥‡∏Å ‡∏´‡∏≠‡∏°‡∏ô‡∏∏‡πà‡∏° ‡∏£‡∏™‡∏ä‡∏≤‡∏ï‡∏¥‡∏Å‡∏•‡∏°‡∏Å‡∏•‡πà‡∏≠‡∏°',
                icon: 'üç¶', 
                image: null,
                selected: false,
                quantity: 0
            }
        ];
        
        let editingId = null;
        let currentPage = 'home';

        // Page Navigation
        function showHomePage() {
            hideAllPages();
            document.getElementById('homePage').classList.remove('hidden');
            currentPage = 'home';
        }

        function showProductsPage() {
            hideAllPages();
            document.getElementById('productsPage').classList.remove('hidden');
            currentPage = 'products';
            renderProducts();
        }

        function showManagePage() {
            hideAllPages();
            document.getElementById('managePage').classList.remove('hidden');
            currentPage = 'manage';
            renderManagement();
        }

        function hideAllPages() {
            document.querySelectorAll('.page-content').forEach(page => {
                page.classList.add('hidden');
            });
        }

        // Render products for shopping
        function renderProducts() {
            const grid = document.getElementById('productsGrid');
            grid.innerHTML = products.map(product => `
                <div class="product-card ${product.selected ? 'selected' : ''} rounded-2xl p-6 border-2 border-pink-200 transition-all">
                    <div class="text-center mb-4">
                        ${product.image ? 
                            `<img src="${product.image}" alt="${product.name}" class="image-preview mx-auto mb-3">` :
                            `<div class="text-6xl mb-3">${product.icon}</div>`
                        }
                        <h3 class="text-xl font-semibold text-gray-800 mb-2">${product.name}</h3>
                        <p class="text-gray-600 text-sm mb-3">${product.description}</p>
                        <div class="text-2xl font-bold text-pink-600 mb-4">‡∏ø${product.price}</div>
                    </div>
                    
                    <div class="space-y-3">
                        <div class="flex items-center justify-center space-x-3">
                            <button onclick="decreaseQuantity(${product.id})" class="bg-pink-100 hover:bg-pink-200 text-pink-600 w-8 h-8 rounded-full flex items-center justify-center font-bold">-</button>
                            <span class="text-lg font-semibold w-8 text-center">${product.quantity}</span>
                            <button onclick="increaseQuantity(${product.id})" class="bg-pink-100 hover:bg-pink-200 text-pink-600 w-8 h-8 rounded-full flex items-center justify-center font-bold">+</button>
                        </div>
                        
                        <button onclick="toggleProduct(${product.id})" class="w-full ${product.selected ? 'bg-pink-500 hover:bg-pink-600 text-white' : 'bg-pink-100 hover:bg-pink-200 text-pink-600'} py-2 rounded-lg font-medium transition-colors">
                            ${product.selected ? '‚úì ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏•‡πâ‡∏ß' : '‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤'}
                        </button>
                    </div>
                </div>
            `).join('');
            
            updateSelectedProducts();
        }

        // Render management view
        function renderManagement() {
            const grid = document.getElementById('manageGrid');
            grid.innerHTML = products.map(product => `
                <div class="product-card rounded-2xl p-6 border-2 border-pink-200">
                    <div class="flex items-center justify-between mb-4">
                        <div class="flex items-center space-x-3">
                            ${product.image ? 
                                `<img src="${product.image}" alt="${product.name}" class="w-12 h-12 object-cover rounded-lg">` :
                                `<span class="text-3xl">${product.icon}</span>`
                            }
                            <div>
                                <h3 class="text-lg font-semibold text-gray-700">${product.name}</h3>
                                <p class="text-pink-600 font-bold">‡∏ø${product.price}</p>
                            </div>
                        </div>
                        <div class="flex space-x-2">
                            <button onclick="editProduct(${product.id})" class="text-blue-500 hover:text-blue-700 text-xl p-2 hover:bg-blue-50 rounded-lg transition-colors" title="‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç">
                                ‚úèÔ∏è
                            </button>
                            <button onclick="deleteProduct(${product.id})" class="text-red-500 hover:text-red-700 text-xl p-2 hover:bg-red-50 rounded-lg transition-colors" title="‡∏•‡∏ö">
                                üóëÔ∏è
                            </button>
                        </div>
                    </div>
                    <p class="text-gray-600 text-sm">${product.description}</p>
                </div>
            `).join('');
        }

        // Product quantity functions
        function increaseQuantity(id) {
            const product = products.find(p => p.id === id);
            if (product) {
                product.quantity++;
                if (product.quantity > 0 && !product.selected) {
                    product.selected = true;
                }
                renderProducts();
            }
        }

        function decreaseQuantity(id) {
            const product = products.find(p => p.id === id);
            if (product && product.quantity > 0) {
                product.quantity--;
                if (product.quantity === 0) {
                    product.selected = false;
                }
                renderProducts();
            }
        }

        function toggleProduct(id) {
            const product = products.find(p => p.id === id);
            if (product) {
                product.selected = !product.selected;
                if (product.selected && product.quantity === 0) {
                    product.quantity = 1;
                } else if (!product.selected) {
                    product.quantity = 0;
                }
                renderProducts();
            }
        }

        // Update selected products display
        function updateSelectedProducts() {
            const selectedList = products.filter(p => p.selected && p.quantity > 0);
            const display = document.getElementById('selectedProducts');
            
            if (selectedList.length === 0) {
                display.innerHTML = '‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤';
            } else {
                const total = selectedList.reduce((sum, p) => sum + (p.price * p.quantity), 0);
                display.innerHTML = `
                    <div class="space-y-2">
                        ${selectedList.map(p => 
                            `<div class="flex justify-between items-center bg-pink-50 p-3 rounded-lg">
                                <span class="flex items-center space-x-2">
                                    <span>${p.icon}</span>
                                    <span>${p.name}</span>
                                    <span class="text-gray-500">x${p.quantity}</span>
                                </span>
                                <span class="font-semibold text-pink-600">‡∏ø${p.price * p.quantity}</span>
                            </div>`
                        ).join('')}
                        <div class="border-t pt-2 mt-3">
                            <div class="flex justify-between items-center font-bold text-lg">
                                <span>‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î:</span>
                                <span class="text-pink-600">‡∏ø${total}</span>
                            </div>
                        </div>
                    </div>
                `;
            }
        }

        // Clear selection
        function clearSelection() {
            products.forEach(p => {
                p.selected = false;
                p.quantity = 0;
            });
            renderProducts();
        }

        // Checkout function
        function checkout() {
            const selectedList = products.filter(p => p.selected && p.quantity > 0);
            if (selectedList.length === 0) {
                alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Å‡πà‡∏≠‡∏ô‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠');
                return;
            }
            
            const total = selectedList.reduce((sum, p) => sum + (p.price * p.quantity), 0);
            alert(`‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!\n‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°: ‡∏ø${total}\n‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£ üôè`);
            clearSelection();
        }

        // Image preview function
        function previewImage(event) {
            const file = event.target.files[0];
            const preview = document.getElementById('imagePreview');
            
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    preview.innerHTML = `
                        <img src="${e.target.result}" alt="Preview" class="image-preview mx-auto mb-2">
                        <p class="text-green-600 text-sm">‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å: ${file.name}</p>
                    `;
                };
                reader.readAsDataURL(file);
            }
        }

        // Modal functions
        function openAddModal() {
            editingId = null;
            document.getElementById('modalTitle').innerHTML = '<span class="text-3xl mr-2">üç®</span>‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà';
            document.getElementById('productName').value = '';
            document.getElementById('productPrice').value = '';
            document.getElementById('productDescription').value = '';
            document.getElementById('productImage').value = '';
            document.getElementById('selectedIcon').value = 'üç¶';
            document.getElementById('imagePreview').innerHTML = `
                <div class="text-4xl mb-2">üì∑</div>
                <p class="text-gray-500">‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û</p>
            `;
            resetIconSelection();
            document.getElementById('productModal').classList.remove('hidden');
            document.getElementById('productModal').classList.add('flex');
        }

        function editProduct(id) {
            const product = products.find(p => p.id === id);
            if (product) {
                editingId = id;
                document.getElementById('modalTitle').innerHTML = '<span class="text-3xl mr-2">‚úèÔ∏è</span>‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤';
                document.getElementById('productName').value = product.name;
                document.getElementById('productPrice').value = product.price;
                document.getElementById('productDescription').value = product.description;
                document.getElementById('selectedIcon').value = product.icon;
                
                if (product.image) {
                    document.getElementById('imagePreview').innerHTML = `
                        <img src="${product.image}" alt="Preview" class="image-preview mx-auto mb-2">
                        <p class="text-green-600 text-sm">‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô</p>
                    `;
                }
                
                resetIconSelection();
                selectIcon(product.icon);
                document.getElementById('productModal').classList.remove('hidden');
                document.getElementById('productModal').classList.add('flex');
            }
        }

        function closeModal() {
            document.getElementById('productModal').classList.add('hidden');
            document.getElementById('productModal').classList.remove('flex');
        }

        function selectIcon(icon) {
            document.getElementById('selectedIcon').value = icon;
            document.querySelectorAll('.icon-btn').forEach(btn => {
                btn.classList.remove('border-pink-400', 'bg-pink-50');
                btn.classList.add('border-gray-200');
            });
            event.target.classList.remove('border-gray-200');
            event.target.classList.add('border-pink-400', 'bg-pink-50');
        }

        function resetIconSelection() {
            document.querySelectorAll('.icon-btn').forEach(btn => {
                btn.classList.remove('border-pink-400', 'bg-pink-50');
                btn.classList.add('border-gray-200');
            });
        }

        function saveProduct(event) {
            event.preventDefault();
            const name = document.getElementById('productName').value;
            const price = parseInt(document.getElementById('productPrice').value);
            const description = document.getElementById('productDescription').value;
            const icon = document.getElementById('selectedIcon').value;
            const imageFile = document.getElementById('productImage').files[0];
            
            let imageData = null;
            if (imageFile) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    imageData = e.target.result;
                    saveProductData(name, price, description, icon, imageData);
                };
                reader.readAsDataURL(imageFile);
            } else {
                // Keep existing image if editing and no new image selected
                if (editingId) {
                    const existingProduct = products.find(p => p.id === editingId);
                    imageData = existingProduct ? existingProduct.image : null;
                }
                saveProductData(name, price, description, icon, imageData);
            }
        }

        function saveProductData(name, price, description, icon, image) {
            if (editingId) {
                const product = products.find(p => p.id === editingId);
                if (product) {
                    product.name = name;
                    product.price = price;
                    product.description = description;
                    product.icon = icon;
                    if (image !== null) {
                        product.image = image;
                    }
                }
            } else {
                const newId = Math.max(...products.map(p => p.id), 0) + 1;
                products.push({
                    id: newId,
                    name: name,
                    price: price,
                    description: description,
                    icon: icon,
                    image: image,
                    selected: false,
                    quantity: 0
                });
            }
            
            if (currentPage === 'manage') {
                renderManagement();
            } else if (currentPage === 'products') {
                renderProducts();
            }
            closeModal();
        }

        function deleteProduct(id) {
            if (confirm('‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ô‡∏µ‡πâ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?')) {
                products = products.filter(p => p.id !== id);
                if (currentPage === 'manage') {
                    renderManagement();
                } else if (currentPage === 'products') {
                    renderProducts();
                }
            }
        }

        // Initialize
        showHomePage();

        // Firebase configuration (for future implementation)
        const firebaseConfig = {
            apiKey: "AIzaSyAupj1aqRX7lZG-hwR6_Zr-d2WZZuamW54",
            authDomain: "yoghurtnongtan.firebaseapp.com",
            projectId: "yoghurtnongtan",
            storageBucket: "yoghurtnongtan.firebasestorage.app",
            messagingSenderId: "313301441385",
            appId: "1:313301441385:web:9614b235aebd7bffb93bf8",
            measurementId: "G-G4PD1KFVRK"
        };
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9712515e05617335',t:'MTc1NTUyOTYxNS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
